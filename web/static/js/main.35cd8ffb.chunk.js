(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{116:function(e,t,n){"use strict";n.r(t);n(178);var a=n(90),r=n(161),o=[{code:"1",msg:"\u53d1\u751f\u672a\u77e5\u9519\u8bef"},{code:"2",msg:"\u975e\u6cd5\u8bf7\u6c42"},{code:"3",msg:"\u975e\u6cd5\u53c2\u6570"},{code:"4",msg:"\u7f3a\u5c11\u5fc5\u8981\u53c2\u6570"},{code:"5",msg:"\u53c2\u6570\u9519\u8bef"},{code:"6",msg:"\u8bf7\u6c42\u65b9\u5f0f\u4e0d\u88ab\u652f\u6301"},{code:"7",msg:"\u60a8\u6ca1\u6709\u6743\u9650\u8fdb\u884c\u6b64\u64cd\u4f5c"},{code:"8",msg:"\u60a8\u8bbf\u95ee\u7684\u8d44\u6e90\u4e0d\u5b58\u5728"},{code:"9",msg:"\u7f3a\u5c11\u767b\u5f55\u540d"},{code:"10",msg:"\u7f3a\u5c11\u5bc6\u7801"},{code:"11",msg:"\u7f3a\u5c11\u9a8c\u8bc1\u7801"},{code:"12",msg:"\u8d26\u53f7\u4e0d\u5b58\u5728"},{code:"13",msg:"\u5bc6\u7801\u9519\u8bef"},{code:"14",msg:"\u9a8c\u8bc1\u7801\u9519\u8bef"},{code:"15",msg:"\u5e10\u53f7\u5df2\u88ab\u9501\u5b9a"},{code:"16",msg:"\u5e10\u53f7\u5df2\u5b58\u5728"},{code:"17",msg:"\u975e\u6cd5\u4e09\u65b9\u5e94\u7528"},{code:"18",msg:"\u975e\u6cd5\u6388\u6743\u8bf7\u6c42"},{code:"19",msg:"\u975e\u6cd5\u66f4\u65b0\u8bbf\u95ee\u7801\u8bf7\u6c42"},{code:"20",msg:"\u60a8\u7684\u4ee4\u724c\u5df2\u8fc7\u671f"},{code:"21",msg:"\u60a8\u9700\u8981\u767b\u5f55\u540e\u518d\u8bbf\u95ee"},{code:"CAS01",msg:""},{code:"CAS02",msg:"CAS\u670d\u52a1\u5668\u8fd4\u56de\u7ed3\u679c\u4e3a\u7a7a"},{code:"CAS03",msg:"CAS\u670d\u52a1\u5668\u8c03\u7528\u6210\u529f\u4f46\u8fd4\u56de\u7ed3\u679c\u4e3a\u7a7a"},{code:"CAS04",msg:"CAS\u670d\u52a1\u5668\u8c03\u7528\u5931\u8d25\u4f46\u8fd4\u56de\u7ed3\u679c\u4e3a\u7a7a"}],s=n.n(r).a.create({baseURL:"/kyfadm-api",withCredentials:!0});s.interceptors.request.use(function(e){return"post"===e.method&&(e.transformRequest=[function(e){var t=new FormData;for(var n in e)t.append(n,e[n]);return t}]),e}),s.interceptors.response.use(function(e){200!==e.status&&a.a.warning("\u7cfb\u7edf\u9519\u8bef\uff0c\u9519\u8bef\u4ee3\u7801".concat(e.status));var t=e.data,n=t.code;return"0"===n?e:n||"0"===n||0===t.status?(a.a.warning(o.find(function(e){return e.code===n}).msg||t.msg),"21"===n&&(window.location.href="/login"),e):(a.a.warning("\u8bf7\u68c0\u67e5\u63a5\u53e3api\u662f\u5426\u6b63\u786e"),{data:{code:"err",data:[]}})},function(e){return Promise.reject(e)});var c=s;n.d(t,"axios",function(){return c})},160:function(e,t,n){"use strict";(function(e){n(142);var a,r,o=n(61),s=(n(351),n(53)),c=(n(236),n(89)),l=(n(105),n(9)),i=n(171),u=n(17),m=n(18),d=n(21),p=n(20),f=n(22),h=n(0),b=n.n(h),g=n(87),y=n.n(g),v=n(33),j=n(36),O=(a=Object(j.b)(function(e){return{setUserInfo:e.store.setUserInfo}}),Object(v.g)(r=a(r=Object(j.c)(r=function(t){function n(t){var a;return Object(u.a)(this,n),(a=Object(d.a)(this,Object(p.a)(n).call(this,t))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||(console.log("Received values of form: ",t),a.login(t))})},a.login=function(t){var n=a.state,r=n.vCodeShow,o=n.requestId,s=Object(i.a)({},t);r&&(s.requestId=o,s.validCode=a.vCodeRef.current.state.value),e.post("/login.json",s).then(function(e){var t=e.data;if("0"===t.code)a.props.setUserInfo({userInfo:e.data.data}),a.props.history.push("/");else if("11"===t.code){var n=JSON.parse(t.data[0]);a.setState({vCodeShow:!0,vCodeUrl:n.validCodeBase64,requestId:n.requestId})}})},a.refreshVCode=function(){e.post("/getValidCode.json").then(function(e){if("0"===e.data.code){var t=e.data.data;a.setState({vCodeUrl:t.validCodeBase64,requestId:t.validCodeBase64})}})},a.vCodeRef=b.a.createRef(),a.state={vCodeUrl:"",vCodeShow:!1,requestId:""},a}return Object(f.a)(n,t),Object(m.a)(n,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state,n=t.vCodeUrl,a=t.vCodeShow;return b.a.createElement("div",{className:y.a.container},b.a.createElement("h1",null,"\u667a\u80fd\u59d4\u5916\u5e73\u53f0\u540e\u53f0\u7ba1\u7406"),b.a.createElement(s.a,{onSubmit:this.handleSubmit,className:y.a.login_form},b.a.createElement(s.a.Item,null,e("username",{rules:[{required:!0,message:"Please input your username!"}]})(b.a.createElement(c.a,{prefix:b.a.createElement(l.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username"}))),b.a.createElement(s.a.Item,null,e("password",{rules:[{required:!0,message:"Please input your Password!"}]})(b.a.createElement(c.a,{prefix:b.a.createElement(l.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),a?b.a.createElement(s.a.Item,null,b.a.createElement("img",{src:n,alt:"\u9a8c\u8bc1\u7801",style:{width:120,height:40}}),b.a.createElement(l.a,{type:"sync",onClick:this.refreshVCode}),b.a.createElement(c.a,{style:{width:160,float:"right"},ref:this.vCodeRef}),","):null,b.a.createElement(s.a.Item,null,b.a.createElement(o.a,{type:"primary",htmlType:"submit",className:y.a.button},"\u767b\u9646"))))}}]),n}(b.a.Component))||r)||r)||r),E=s.a.create({name:"normal_login"})(O);t.a=E}).call(this,n(116).axios)},167:function(e,t,n){"use strict";(function(e){n(105);var a,r,o=n(9),s=n(17),c=n(18),l=n(21),i=n(20),u=n(22),m=n(0),d=n.n(m),p=n(49),f=n.n(p),h=n(33),b=n(36),g=(a=Object(b.b)(function(e){return{userInfo:e.store.userInfo,setUserInfo:e.store.setUserInfo}}),Object(h.g)(r=a(r=Object(b.c)(r=function(t){function n(t){var a;return Object(s.a)(this,n),(a=Object(l.a)(this,Object(i.a)(n).call(this,t))).logout=function(){e.get("/logout.json").then(function(e){"0"===e.data.code&&(a.props.history.push("/login"),a.props.setUserInfo({userInfo:{}}))})},a.state={},a}return Object(u.a)(n,t),Object(c.a)(n,[{key:"render",value:function(){return d.a.createElement("div",{className:f.a.header},d.a.createElement("span",{className:f.a.title},"\u667a\u80fd\u59d4\u5916\u5e73\u53f0\u540e\u53f0\u7ba1\u7406"),d.a.createElement("div",{className:f.a.userInfo},d.a.createElement(o.a,{type:"user",style:{color:"#fff",margin:"0 4px"}}),this.props.userInfo.name,d.a.createElement("span",{onClick:this.logout},d.a.createElement(o.a,{type:"logout",style:{color:"#fff",margin:"0 4px 0 18px"}}),"\u9000\u51fa")))}}]),n}(d.a.Component))||r)||r)||r);t.a=g}).call(this,n(116).axios)},169:function(e,t,n){"use strict";(function(e){var a,r,o=n(15),s=n(17),c=n(18),l=n(21),i=n(20),u=n(22),m=n(0),d=n.n(m),p=n(33),f=n(36),h=(a=Object(f.b)(function(e){return{setUserInfo:e.store.setUserInfo}}),Object(p.g)(r=a(r=Object(f.c)(r=function(t){function n(e){var t;return Object(s.a)(this,n),(t=Object(l.a)(this,Object(i.a)(n).call(this,e))).state={requested:!1,hasAuth:!1},t}return Object(u.a)(n,t),Object(c.a)(n,[{key:"componentWillMount",value:function(){console.log("routeGuard")}},{key:"componentDidMount",value:function(){var t=this;e.get("/login.json").then(function(e){"0"===e.data.code?(t.setState({requested:!0,hasAuth:!0}),t.props.setUserInfo({userInfo:e.data.data})):t.props.history.push("/login")})}},{key:"render",value:function(){var e=Object(o.a)({},this.props);return this.state.requested?d.a.createElement(p.b,e):null}}]),n}(d.a.Component))||r)||r)||r);t.a=h}).call(this,n(116).axios)},173:function(e,t,n){e.exports=n(350)},350:function(e,t,n){"use strict";n.r(t);var a,r=n(0),o=n.n(r),s=n(6),c=n.n(s),l=n(36),i=n(43),u=n(33),m=n(160),d=n(17),p=n(18),f=n(21),h=n(20),b=n(22),g=n(167),y=(n(105),n(9)),v=(n(352),n(70)),j=v.b.SubMenu,O=Object(u.g)(a=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this,e))).openKeysMap={userManage:"p-user",publicFactor:"p-research"},n.handleOpenChange=function(e){n.setState({openKeys:e})},n.state={current:"",openKeys:[]},n}return Object(b.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.location.pathname,n=this.props.history;this.setState({current:t.slice(1),openKeys:[this.openKeysMap[t.slice(1)]]}),n.listen(function(t){e.setState({current:t.pathname.slice(1)}),e.state.openKeys.length<1&&e.setState({openKeys:[e.openKeysMap[t.pathname.slice(1)]]})})}},{key:"render",value:function(){return o.a.createElement(v.b,{style:{width:256,height:"100%"},selectedKeys:[this.state.current],multiple:!1,openKeys:this.state.openKeys,onOpenChange:this.handleOpenChange,mode:"inline"},o.a.createElement(j,{key:"p-user",title:o.a.createElement("span",null,o.a.createElement(y.a,{type:"user"}),o.a.createElement("span",null,"\u7528\u6237\u7ba1\u7406"))},o.a.createElement(v.b.Item,{key:"userManage"},o.a.createElement(i.b,{to:"/userManage"},"\u7528\u6237\u7ba1\u7406"))),o.a.createElement(j,{key:"p-research",title:o.a.createElement("span",null,o.a.createElement(y.a,{type:"fund"}),o.a.createElement("span",null,"\u7814\u7a76\u7ba1\u7406"))},o.a.createElement(v.b.Item,{key:"publicFactor"},o.a.createElement(i.b,{to:"/publicFactor"},"\u516c\u5171\u56e0\u5b50"))))}}]),t}(o.a.Component))||a,E=n(49),C=n.n(E),I=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this,e))).state={},n}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,"userManage")}}]),t}(o.a.Component),_=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this,e))).state={},n}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,"PublicFactor")}}]),t}(o.a.Component),k=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this,e))).state={},n}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,"NotFound!!!!")}}]),t}(o.a.Component),w=n(169),S=[{path:"/userManage",exact:!0,component:I},{path:"/publicFactor",exact:!0,component:_}],x=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this,e))).state={},n}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:C.a.container},o.a.createElement(g.a,null),o.a.createElement("div",{className:C.a.body},o.a.createElement(O,null),o.a.createElement("div",{className:C.a.content},o.a.createElement(u.d,null,o.a.createElement(u.a,{from:"/",to:"/userManage",exact:!0}),S.map(function(e){return o.a.createElement(w.a,{path:e.path,exact:e.exact,component:e.component,key:e.path})}),o.a.createElement(u.b,{component:k})))))}}]),t}(o.a.Component);var U,q,M,K=function(){return o.a.createElement(i.a,null,o.a.createElement(u.d,null,o.a.createElement(u.b,{path:"/login",exact:!0,component:m.a}),o.a.createElement(u.b,{component:x})))},N=n(170),A=n(121),F=(n(349),n(11)),R=new(U=F.d.bound,q=function(){function e(){Object(d.a)(this,e),Object(N.a)(this,"userInfo",M,this)}return Object(p.a)(e,[{key:"setUserInfo",value:function(e){this.userInfo=e.userInfo}}]),e}(),M=Object(A.a)(q.prototype,"userInfo",[F.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{name:"",permissions:[],token:"",identity:{id:"",name:""}}}}),Object(A.a)(q.prototype,"setUserInfo",[U],Object.getOwnPropertyDescriptor(q.prototype,"setUserInfo"),q.prototype),q);c.a.render(o.a.createElement(l.a,{store:R},o.a.createElement(K,null)),document.getElementById("root"))},49:function(e,t,n){e.exports={container:"style_container__2TjDT",header:"style_header__1ivk_",title:"style_title__36nRo",userInfo:"style_userInfo__OGREH",body:"style_body__3DQdd",content:"style_content__2fSyy"}},87:function(e,t,n){e.exports={container:"style_container__3Qtx_",login_form:"style_login_form__3akMk",button:"style_button__1qKUz"}}},[[173,1,2]]]);
//# sourceMappingURL=main.35cd8ffb.chunk.js.map