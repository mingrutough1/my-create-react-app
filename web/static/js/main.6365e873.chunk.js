(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{127:function(e,t,a){e.exports={container:"style_container__3Qtx_",login_form:"style_login_form__3akMk",button:"style_button__1qKUz"}},208:function(e,t,a){"use strict";a.r(t);var n={iframeDownload:function(e){var t=document.querySelector("#iframeDownload");if(t)t.src=e;else{var a=document.querySelector("body"),n=document.createElement("div");n.innerHTML='<iframe src="'.concat(e,'" height="0" id="iframeDownload"></iframe>'),a.appendChild(n),setTimeout(function(){a.removeChild(n)},1e4)}}};t.default=n},229:function(e,t,a){"use strict";(function(e){a(62);var n,r,o=a(19),s=(a(117),a(20)),i=(a(107),a(36)),l=(a(142),a(8)),c=a(232),u=a(13),d=a(14),m=a(17),p=a(16),f=a(18),h=a(0),g=a.n(h),b=a(127),y=a.n(b),v=a(50),O=a(35),j=(n=Object(O.b)(function(e){return{setUserInfo:e.store.UseInfo.setUserInfo}}),Object(v.g)(r=n(r=Object(O.c)(r=function(t){function a(t){var n;return Object(u.a)(this,a),(n=Object(m.a)(this,Object(p.a)(a).call(this,t))).handleSubmit=function(e){e.preventDefault(),n.props.form.validateFields(function(e,t){e||(console.log("Received values of form: ",t),n.login(t))})},n.login=function(t){var a=n.state,r=a.vCodeShow,o=a.requestId,s=Object(c.a)({},t);r&&(s.requestId=o,s.validCode=n.vCodeRef.current.state.value),e.post("/login.json",s).then(function(e){var t=e.data;if("0"===t.code)n.props.setUserInfo({userInfo:e.data.data}),n.props.history.push("/");else if("11"===t.code){var a=JSON.parse(t.data[0]);n.setState({vCodeShow:!0,vCodeUrl:a.validCodeBase64,requestId:a.requestId})}})},n.refreshVCode=function(){e.post("/getValidCode.json").then(function(e){if("0"===e.data.code){var t=e.data.data;n.setState({vCodeUrl:t.validCodeBase64,requestId:t.validCodeBase64})}})},n.vCodeRef=g.a.createRef(),n.state={vCodeUrl:"",vCodeShow:!1,requestId:""},n}return Object(f.a)(a,t),Object(d.a)(a,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state,a=t.vCodeUrl,n=t.vCodeShow;return g.a.createElement("div",{className:y.a.container},g.a.createElement("h1",null,"\u667a\u80fd\u59d4\u5916\u5e73\u53f0\u540e\u53f0\u7ba1\u7406"),g.a.createElement(s.a,{onSubmit:this.handleSubmit,className:y.a.login_form},g.a.createElement(s.a.Item,null,e("username",{rules:[{required:!0,message:"Please input your username!"}]})(g.a.createElement(i.a,{prefix:g.a.createElement(l.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username"}))),g.a.createElement(s.a.Item,null,e("password",{rules:[{required:!0,message:"Please input your Password!"}]})(g.a.createElement(i.a,{prefix:g.a.createElement(l.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),n?g.a.createElement(s.a.Item,null,g.a.createElement("img",{src:a,alt:"\u9a8c\u8bc1\u7801",style:{width:120,height:40}}),g.a.createElement(l.a,{type:"sync",onClick:this.refreshVCode}),g.a.createElement(i.a,{style:{width:160,float:"right"},ref:this.vCodeRef}),","):null,g.a.createElement(s.a.Item,null,g.a.createElement(o.a,{type:"primary",htmlType:"submit",className:y.a.button},"\u767b\u9646"))))}}]),a}(g.a.Component))||r)||r)||r),C=s.a.create({name:"normal_login"})(j);t.a=C}).call(this,a(55).axios)},236:function(e,t,a){"use strict";(function(e){a(142);var n,r,o=a(8),s=a(13),i=a(14),l=a(17),c=a(16),u=a(18),d=a(0),m=a.n(d),p=a(71),f=a.n(p),h=a(50),g=a(35),b=(n=Object(g.b)(function(e){return{userInfo:e.store.UseInfo.userInfo,setUserInfo:e.store.UseInfo.setUserInfo}}),Object(h.g)(r=n(r=Object(g.c)(r=function(t){function a(t){var n;return Object(s.a)(this,a),(n=Object(l.a)(this,Object(c.a)(a).call(this,t))).logout=function(){e.get("/logout.json").then(function(e){"0"===e.data.code&&(n.props.history.push("/login"),n.props.setUserInfo({userInfo:{}}))})},n.state={},n}return Object(u.a)(a,t),Object(i.a)(a,[{key:"render",value:function(){return m.a.createElement("div",{className:f.a.header},m.a.createElement("span",{className:f.a.title},"\u667a\u80fd\u59d4\u5916\u5e73\u53f0\u540e\u53f0\u7ba1\u7406"),m.a.createElement("div",{className:f.a.userInfo},m.a.createElement(o.a,{type:"user",style:{color:"#fff",margin:"0 4px"}}),this.props.userInfo.name,m.a.createElement("span",{onClick:this.logout},m.a.createElement(o.a,{type:"logout",style:{color:"#fff",margin:"0 4px 0 18px"}}),"\u9000\u51fa")))}}]),a}(m.a.Component))||r)||r)||r);t.a=b}).call(this,a(55).axios)},238:function(e,t,a){"use strict";(function(e){var n=a(86),r=a(13),o=a(14),s=a(17),i=a(16),l=a(18),c=a(0),u=a.n(c),d=a(70),m=a.n(d),p=a(239),f=a(240),h=a(244),g=function(t){function a(t){var o;return Object(r.a)(this,a),(o=Object(s.a)(this,Object(i.a)(a).call(this,t))).resetFormAndGet=function(){o.setState({userId:"",userName:"",valid:"all",role:[]},function(){o.getUsers()})},o.setFormState=function(e,t){o.setState(Object(n.a)({},e,t))},o.getUsers=function(){var t=o.state,a=t.userId,n=t.userName,r=t.valid,s=t.role,i={userId:a,userName:n};i.isValid="all"!==r?Boolean(r):"",s.length>0&&(i.role=s.join(",")),o.setState({loading:!0}),e.get("/user/query.json",{params:i}).then(function(e){if("0"===e.data.code){var t=e.data.data||[];t.forEach(function(e,t){e.order=t+1,e.key=e.userId}),o.setState({userListData:t})}o.setState({loading:!1})})},o.state={userListData:[],userId:"",userName:"",valid:"all",role:[],loading:!1},o}return Object(l.a)(a,t),Object(o.a)(a,[{key:"componentWillMount",value:function(){this.getUsers()}},{key:"render",value:function(){var e=this.state,t={userId:e.userId,userName:e.userName,valid:e.valid,role:e.role,setFormState:this.setFormState};return u.a.createElement("div",{className:m.a.container},u.a.createElement(p.a,Object.assign({getUsers:this.getUsers},t)),u.a.createElement(f.a,{resetFormAndGet:this.resetFormAndGet}),u.a.createElement(h.a,{userListData:this.state.userListData,loading:this.state.loading,getUsers:this.getUsers,setFormState:this.setFormState}))}}]),a}(u.a.Component);t.a=g}).call(this,a(55).axios)},239:function(e,t,a){"use strict";(function(e){a(62);var n,r=a(19),o=(a(117),a(20)),s=(a(107),a(36)),i=a(13),l=a(14),c=a(17),u=a(16),d=a(18),m=(a(115),a(32)),p=a(0),f=a.n(p),h=a(70),g=a.n(h),b=a(35),y=m.a.Option,v=m.a.OptGroup,O=Object(b.b)(function(e){return{rolesOptions:e.store.UseInfo.rolesOptions,setRolesOptions:e.store.UseInfo.setRolesOptions}})(n=Object(b.c)(n=function(t){function a(t){var n;return Object(i.a)(this,a),(n=Object(c.a)(this,Object(u.a)(a).call(this,t))).getUsers=function(){n.props.getUsers()},n.getRoles=function(){e.get("/user/roles.json").then(function(e){"0"===e.data.code&&n.props.setRolesOptions({rolesOptions:e.data.data})})},n.handleInputChange=function(e){return function(t){n.props.setFormState(e,t.target.value)}},n.handleSelectChange=function(e){return function(t){n.props.setFormState(e,t)}},n.state={},n}return Object(d.a)(a,t),Object(l.a)(a,[{key:"componentWillMount",value:function(){this.getRoles()}},{key:"render",value:function(){var e=this.props,t=e.userId,a=e.userName,n=e.valid,i=e.role,l=e.rolesOptions;return f.a.createElement("div",{className:g.a.formCon},f.a.createElement(o.a,{layout:"inline"},f.a.createElement(o.a.Item,{label:"\u7528\u6237ID\uff1a"},f.a.createElement(s.a,{value:t,onChange:this.handleInputChange("userId"),allowClear:!0})),f.a.createElement(o.a.Item,{label:"\u7528\u6237\u540d\u79f0\uff1a"},f.a.createElement(s.a,{value:a,onChange:this.handleInputChange("userName"),allowClear:!0})),f.a.createElement(o.a.Item,{label:"\u7528\u6237\u89d2\u8272\uff1a"},f.a.createElement(m.a,{mode:"multiple",style:{width:220},onChange:this.handleSelectChange("role"),value:i},Object.keys(l).map(function(e){return f.a.createElement(v,{label:e,key:e},Object.keys(l[e]).map(function(t){return l[e][t]?f.a.createElement(y,{value:l[e][t],key:t},l[e][t]):null}))}))),f.a.createElement(o.a.Item,{label:"\u662f\u5426\u6709\u6548\uff1a"},f.a.createElement(m.a,{defaultValue:"all",style:{width:120},onChange:this.handleSelectChange("valid"),value:n},f.a.createElement(y,{value:"all"},"\u5168\u90e8"),f.a.createElement(y,{value:"true"},"\u662f"),f.a.createElement(y,{value:""},"\u5426"))),f.a.createElement(r.a,{type:"primary",className:g.a.rightBtn,onClick:this.getUsers},"\u786e\u5b9a")))}}]),a}(f.a.Component))||n)||n;t.a=O}).call(this,a(55).axios)},240:function(e,t,a){"use strict";(function(e){a(228);var n=a(126),r=(a(62),a(19)),o=(a(102),a(43)),s=a(13),i=a(14),l=a(17),c=a(16),u=a(18),d=a(0),m=a.n(d),p=a(70),f=a.n(p),h=a(241),g=function(t){function a(t){var n;return Object(s.a)(this,a),(n=Object(l.a)(this,Object(c.a)(a).call(this,t))).toggleVisible=function(e){n.setState({visible:e})},n.onUpLoadChange=function(e){n.setState({uploadText:"\u5bfc\u5165\u4e2d..."}),"done"===e.file.status?(o.a.success("".concat(e.file.name," \u4e0a\u4f20\u6210\u529f")),n.setState({uploadText:"\u5bfc\u5165"})):"error"===e.file.status&&(o.a.error("".concat(e.file.name," \u4e0a\u4f20\u5931\u8d25.")),n.setState({uploadText:"\u5bfc\u5165"}))},n.export=function(){e.iframeDownload("/kyfadm-api/user/export.json")},n.state={uploadText:"\u5bfc\u5165",src:"",visible:!1},n}return Object(u.a)(a,t),Object(i.a)(a,[{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:f.a.actionCon},m.a.createElement("div",{style:{display:"flex"}},m.a.createElement(n.a,{showUploadList:!1,name:"file",action:"/kyfadm-api/user/import.json",onChange:this.onUpLoadChange},m.a.createElement(r.a,{type:"primary"},this.state.uploadText)),m.a.createElement(r.a,{type:"primary",style:{marginLeft:"10px"},onClick:this.export},"\u5bfc\u51fa")),m.a.createElement(r.a,{type:"primary",className:f.a.rightBtn,style:{top:"15px"},onClick:function(){return e.setState({visible:!0})}},"\u65b0\u5efa\u7528\u6237"),m.a.createElement(h.a,{visible:this.state.visible,toggleVisible:this.toggleVisible,resetFormAndGet:this.props.resetFormAndGet}))}}]),a}(m.a.Component);t.a=g}).call(this,a(208).default)},241:function(e,t,a){"use strict";(function(e){a(423);var n,r=a(257),o=(a(107),a(36)),s=(a(102),a(43)),i=a(13),l=a(14),c=a(17),u=a(16),d=a(18),m=(a(117),a(20)),p=(a(115),a(32)),f=a(0),h=a.n(f),g=a(35),b=p.a.Option,y=p.a.OptGroup,v=m.a.create({})(n=Object(g.b)(function(e){return{rolesOptions:e.store.UseInfo.rolesOptions}})(n=Object(g.c)(n=function(t){function a(e){var t;return Object(i.a)(this,a),(t=Object(c.a)(this,Object(u.a)(a).call(this,e))).handleOk=function(){t.props.form.validateFields(function(e,a){e||(console.log(a),t.addUser(a))})},t.handleCancel=function(){t.props.toggleVisible(!1)},t.handleUseIdChange=function(e){t.props.form.setFieldsValue({email:"".concat(e.target.value,"@pingan.com.cn")})},t.state={confirmLoading:!1},t}return Object(d.a)(a,t),Object(l.a)(a,[{key:"contructRoles",value:function(e){var t={};e.roles.forEach(function(e){e=e.split("$"),t[e[0]]={},t[e[0]][e[1]]=e[2]}),e.roles=t}},{key:"addUser",value:function(t){var a=this;this.contructRoles(t),this.setState({confirmLoading:!0}),e.post("/user/add.json",t).then(function(e){"0"===e.data.code&&(a.props.toggleVisible(!1),s.a.success("\u65b0\u589e\u6210\u529f"),a.props.resetFormAndGet()),a.setState({confirmLoading:!1})})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props.rolesOptions,a=this.state.confirmLoading;return h.a.createElement(r.a,{title:"\u65b0\u5efa\u7528\u6237",visible:this.props.visible,onOk:this.handleOk,onCancel:this.handleCancel,confirmLoading:a,okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",destroyOnClose:!0},h.a.createElement(m.a,{labelCol:{span:5},wrapperCol:{span:12}},h.a.createElement(m.a.Item,{label:"\u7528\u6237ID\uff1a"},e("userId",{rules:[{required:!0,message:"Please input your userId!"}]})(h.a.createElement(o.a,{onChange:this.handleUseIdChange}))),h.a.createElement(m.a.Item,{label:"\u7528\u6237\u540d\u79f0\uff1a"},e("userName",{rules:[{required:!0,message:"Please input your userName!"}]})(h.a.createElement(o.a,null))),h.a.createElement(m.a.Item,{label:"\u7528\u6237\u90ae\u7bb1\uff1a"},e("email",{rules:[{required:!0,message:"Please input your email!"},{type:"email",message:"The input is not valid E-mail!"}]})(h.a.createElement(o.a,null))),h.a.createElement(m.a.Item,{label:"\u7528\u6237\u89d2\u8272\uff1a"},e("roles",{rules:[{required:!0,message:"Please select your roles!"}]})(h.a.createElement(p.a,{mode:"multiple",style:{width:236}},Object.keys(t).map(function(e){return h.a.createElement(y,{label:e,key:e},Object.keys(t[e]).map(function(a){return t[e][a]?h.a.createElement(b,{value:"".concat(e,"$").concat(a,"$").concat(t[e][a]),key:a},t[e][a]):null}))}))))))}}]),a}(h.a.Component))||n)||n)||n;t.a=v}).call(this,a(55).axios)},244:function(e,t,a){"use strict";(function(e){a(227);var n=a(125),r=a(13),o=a(14),s=a(17),i=a(16),l=a(18),c=(a(479),a(245)),u=a(0),d=a.n(u),m={wordWrap:"break-word",wordBreak:"break-all"},p=[{title:"\u5e8f\u53f7",dataIndex:"order",key:"order",width:100},{title:"\u7528\u6237ID",key:"userKey",width:200,render:function(e){return d.a.createElement("div",{style:m},e.userKey)}},{title:"\u7528\u6237\u540d\u79f0",key:"userName",width:200,render:function(e){return d.a.createElement("div",{style:m},e.userName)}},{title:"\u7528\u6237\u90ae\u7bb1",key:"email",width:300,render:function(e){return d.a.createElement("div",{style:m},e.email)}},{title:"\u7528\u6237\u89d2\u8272",key:"userRoles",render:function(e){return d.a.createElement("div",{style:m},e&&e.userRoles.map(function(e){return e.label}).join("\uff0c"))}},{title:"\u6709\u6548\u6027",width:100,key:"action",render:function(e){return d.a.createElement(c.a,{defaultChecked:e.isValid,onChange:f(e)})}}];function f(t){return function(){e.post("/user/changeValid.json",{userId:t.userKey,isValid:!t.isValid})}}var h=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).state={},a}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return d.a.createElement(n.a,{scroll:{y:"calc(100vh - 320px)"},bordered:!0,loading:this.props.loading,columns:p,dataSource:this.props.userListData,pagination:!1})}}]),t}(d.a.Component);t.a=h}).call(this,a(55).axios)},251:function(e,t,a){"use strict";(function(e){var n=a(86),r=a(13),o=a(14),s=a(17),i=a(16),l=a(18),c=a(0),u=a.n(c),d=a(80),m=a.n(d),p=a(252),f=a(253),h=a(255),g=function(t){function a(t){var o;return Object(r.a)(this,a),(o=Object(s.a)(this,Object(i.a)(a).call(this,t))).resetFormAndGet=function(){o.setState({factorId:"",factorCode:"",factorName:"",tier:"",objectType:"",isBottom:"all",isCalced:"all",pno:1,size:10,total:0},function(){o.getFactors()})},o.setCurPageAndFet=function(e){o.setState({pno:e},function(){o.getFactors()})},o.setFormState=function(e,t){o.setState(Object(n.a)({},e,t))},o.getFactors=function(){var t=o.state,a=t.factorId,n=t.factorCode,r=t.factorName,s=t.tier,i=t.objectType,l=t.isBottom,c=t.isCalced,u={factorId:a,factorCode:n,factorName:r,tier:s,objectType:i,pno:t.pno,size:t.size};"all"!==l&&(u.isBottom=Boolean(l)),"all"!==c&&(u.isCalced=Boolean(c)),o.setState({loading:!0}),e.get("/factor/query.json",{params:u}).then(function(e){if("0"===e.data.code){var t=e.data.data,a=t.result||[];a.forEach(function(e,t){e.order=t+1,e.key=e.pid}),o.setState({factorListData:a,pno:t.pno,size:t.size,total:t.total})}o.setState({loading:!1})})},o.state={factorListData:[],loading:!1,factorId:"",factorCode:"",factorName:"",tier:"",objectType:"",isBottom:"all",isCalced:"all",pno:1,size:10,total:0},o}return Object(l.a)(a,t),Object(o.a)(a,[{key:"componentWillMount",value:function(){this.getFactors()}},{key:"render",value:function(){var e=this.state,t=e.factorId,a=e.factorCode,n=e.factorName,r=e.tier,o=e.objectType,s=e.isBottom,i=e.isCalced,l=e.pno,c=e.size,d=e.total,g={factorId:t,factorCode:a,factorName:n,tier:r,objectType:o,isBottom:s,isCalced:i,setFormState:this.setFormState},b={pno:l,size:c,total:d,setCurPageAndFet:this.setCurPageAndFet};return u.a.createElement("div",{className:m.a.container},u.a.createElement(p.a,Object.assign({getFactors:this.getFactors},g)),u.a.createElement(f.a,{resetFormAndGet:this.resetFormAndGet}),u.a.createElement(h.a,Object.assign({factorListData:this.state.factorListData,loading:this.state.loading},b)))}}]),a}(u.a.Component);t.a=g}).call(this,a(55).axios)},252:function(e,t,a){"use strict";(function(e){a(62);var n=a(19),r=(a(117),a(20)),o=(a(107),a(36)),s=a(13),i=a(14),l=a(17),c=a(16),u=a(18),d=(a(115),a(32)),m=a(0),p=a.n(m),f=a(80),h=a.n(f),g=d.a.Option,b=function(t){function a(e){var t;return Object(s.a)(this,a),(t=Object(l.a)(this,Object(c.a)(a).call(this,e))).getFactors=function(){setTimeout(function(){t.props.setFormState("pno",1),t.props.getFactors()},0)},t.handleInputChange=function(e){return function(a){t.props.setFormState(e,a.target.value)}},t.handleSelectChange=function(e){return function(a){t.props.setFormState(e,a)}},t.state={objectTypeOptions:[]},t}return Object(u.a)(a,t),Object(i.a)(a,[{key:"componentWillMount",value:function(){var t=this;e.get("/factor/object/type.json").then(function(e){"0"===e.data.code&&t.setState({objectTypeOptions:e.data.data})})}},{key:"render",value:function(){var e=this.props,t=e.factorId,a=e.factorCode,s=e.factorName,i=e.tier,l=e.objectType,c=e.isBottom,u=e.isCalced;return p.a.createElement("div",{className:h.a.formCon},p.a.createElement(r.a,{layout:"inline"},p.a.createElement(r.a.Item,{label:"\u56e0\u5b50ID\uff1a"},p.a.createElement(o.a,{value:t,onChange:this.handleInputChange("factorId"),allowClear:!0})),p.a.createElement(r.a.Item,{label:"\u56e0\u5b50code\uff1a"},p.a.createElement(o.a,{value:a,onChange:this.handleInputChange("factorCode"),allowClear:!0})),p.a.createElement(r.a.Item,{label:"\u56e0\u5b50\u540d\u79f0\uff1a"},p.a.createElement(o.a,{value:s,onChange:this.handleInputChange("factorName"),allowClear:!0})),p.a.createElement(r.a.Item,{label:"\u5c42\u7ea7\uff1a"},p.a.createElement(o.a,{value:i,onChange:this.handleInputChange("tier"),allowClear:!0})),p.a.createElement(r.a.Item,{label:"\u5bf9\u8c61\u7c7b\u578b\uff1a"},p.a.createElement(d.a,{value:l,style:{width:120},onChange:this.handleSelectChange("objectType")},this.state.objectTypeOptions.map(function(e){return e?p.a.createElement(g,{value:e,key:e},e):null}))),p.a.createElement(r.a.Item,{label:"\u662f\u5426\u5e95\u5c42\uff1a"},p.a.createElement(d.a,{value:c,style:{width:120},onChange:this.handleSelectChange("isBottom")},p.a.createElement(g,{value:"all"},"\u5168\u90e8"),p.a.createElement(g,{value:"true"},"\u662f"),p.a.createElement(g,{value:""},"\u5426"))),p.a.createElement(r.a.Item,{label:"\u662f\u5426\u8ba1\u7b97\uff1a"},p.a.createElement(d.a,{value:u,style:{width:120},onChange:this.handleSelectChange("isCalced")},p.a.createElement(g,{value:"all"},"\u5168\u90e8"),p.a.createElement(g,{value:"true"},"\u662f"),p.a.createElement(g,{value:""},"\u5426"))),p.a.createElement(n.a,{type:"primary",className:h.a.rightBtn,onClick:this.getFactors},"\u786e\u5b9a")))}}]),a}(p.a.Component);t.a=b}).call(this,a(55).axios)},253:function(e,t,a){"use strict";(function(e,n){a(512);var r=a(254),o=(a(228),a(126)),s=(a(62),a(19)),i=(a(102),a(43)),l=a(13),c=a(14),u=a(17),d=a(16),m=a(18),p=a(0),f=a.n(p),h=a(80),g=a.n(h),b=function(t){function a(t){var r;return Object(l.a)(this,a),(r=Object(u.a)(this,Object(d.a)(a).call(this,t))).onUpLoadChange=function(e){r.setState({uploadText:"\u5bfc\u5165\u4e2d..."}),"done"===e.file.status?(i.a.success("".concat(e.file.name," \u4e0a\u4f20\u6210\u529f")),r.setState({uploadText:"\u5bfc\u5165"}),r.props.resetFormAndGet()):"error"===e.file.status&&(i.a.error("".concat(e.file.name," \u4e0a\u4f20\u5931\u8d25.")),r.setState({uploadText:"\u5bfc\u5165"}))},r.deleteAll=function(){e.post("/factor/delete.json",{all:!0}).then(function(e){"0"===e.data.code&&i.a.success("\u5168\u90e8\u5220\u9664\u6210\u529f")})},r.export=function(){n.iframeDownload("/kyfadm-api/factor/export.json")},r.state={uploadText:"\u5bfc\u5165",src:""},r}return Object(m.a)(a,t),Object(c.a)(a,[{key:"render",value:function(){return f.a.createElement("div",{className:g.a.actionCon},f.a.createElement(o.a,{showUploadList:!1,name:"file",action:"/kyfadm-api/factor/import.json",onChange:this.onUpLoadChange},f.a.createElement(s.a,{type:"primary"},this.state.uploadText)),f.a.createElement(s.a,{type:"primary",style:{marginLeft:"10px"},onClick:this.export},"\u5bfc\u51fa"),f.a.createElement(r.a,{title:"\u786e\u5b9a\u8981\u5220\u9664\u5168\u90e8?",onConfirm:this.deleteAll,okText:"\u5220\u9664",cancelText:"\u53d6\u6d88"},f.a.createElement(s.a,{type:"primary",style:{marginLeft:"10px"}},"\u5168\u90e8\u5220\u9664")))}}]),a}(f.a.Component);t.a=b}).call(this,a(55).axios,a(208).default)},255:function(e,t,a){"use strict";(function(e){a(227);var n=a(125),r=a(13),o=a(14),s=a(17),i=a(16),l=a(18),c=a(0),u=a.n(c),d={textOverflow:"ellipsis",width:"200px",overflow:"hidden",whiteSpace:"nowrap"},m=[{title:"\u5e8f\u53f7",dataIndex:"order",key:"order",width:80,fixed:"left"},{title:"\u56e0\u5b50ID",dataIndex:"factorId",key:"factorId",with:200},{title:"\u56e0\u5b50code",dataIndex:"factorCode",key:"factorCode"},{title:"\u56e0\u5b50\u540d",key:"factorName",render:function(e){return u.a.createElement("div",{style:d,title:e.factorName},e.factorName)}},{title:"\u5bf9\u8c61\u7c7b\u578b",dataIndex:"objectType",key:"objectType",width:200},{title:"\u6570\u636e\u9891\u7387",dataIndex:"dataFrequency",key:"dataFrequency",width:200},{title:"\u662f\u5426\u8ba1\u7b97",dataIndex:"isCalculate",key:"isCalculate",width:300},{title:"\u7b97\u6cd5\u4f18\u5148\u7ea7",dataIndex:"calculatePriority",key:"calculatePriority",width:200},{title:"\u7b97\u6cd5\u63cf\u8ff0",key:"algorithmDesc",render:function(e){return u.a.createElement("div",{style:d,title:e.algorithmDesc},e.algorithmDesc)}},{title:"\u8ba1\u7b97\u7a97\u53e3",dataIndex:"calculateWindow",key:"calculateWindow",width:200},{title:"\u7a97\u53e3\u504f\u79fb",dataIndex:"windowShift",key:"windowShift",width:200},{title:"\u8ba1\u7b97\u7ec6\u8282",key:"dataProcessDetail",render:function(e){return u.a.createElement("div",{style:d,title:e.dataProcessDetail},e.dataProcessDetail)}},{title:"\u64cd\u4f5c",fixed:"right",key:"action",width:80,render:function(e){return u.a.createElement("a",{href:"javascript:;",onClick:p(e.factorId)},"\u5220\u9664")}}];function p(t){var a=this;return function(){e.post("/factor/delete.json",{factorId:t,all:!1}).then(function(e){"0"===e.data.code&&a.props.getUsers()})}}var f=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).state={},a}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return u.a.createElement(n.a,{scroll:{x:2e3},bordered:!0,loading:this.props.loading,columns:m,dataSource:this.props.factorListData,pagination:{current:this.props.pno,pageSize:this.props.size,total:this.props.total,onChange:this.props.setCurPageAndFet}})}}]),t}(u.a.Component);t.a=f}).call(this,a(55).axios)},256:function(e,t,a){"use strict";(function(e){var n,r,o=a(31),s=a(13),i=a(14),l=a(17),c=a(16),u=a(18),d=a(0),m=a.n(d),p=a(50),f=a(35),h=(n=Object(f.b)(function(e){return{setUserInfo:e.store.UseInfo.setUserInfo}}),Object(p.g)(r=n(r=Object(f.c)(r=function(t){function a(e){var t;return Object(s.a)(this,a),(t=Object(l.a)(this,Object(c.a)(a).call(this,e))).state={requested:!1,hasAuth:!1},t}return Object(u.a)(a,t),Object(i.a)(a,[{key:"componentDidMount",value:function(){var t=this;e.get("/login.json").then(function(e){"0"===e.data.code?(t.setState({requested:!0,hasAuth:!0}),t.props.setUserInfo({userInfo:e.data.data})):t.props.history.push("/login")})}},{key:"render",value:function(){var e=Object(o.a)({},this.props);return this.state.requested?m.a.createElement(p.b,e):null}}]),a}(m.a.Component))||r)||r)||r);t.a=h}).call(this,a(55).axios)},259:function(e,t,a){e.exports=a(511)},511:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),s=a(7),i=a.n(s),l=a(35),c=a(64),u=a(50),d=a(229),m=a(13),p=a(14),f=a(17),h=a(16),g=a(18),b=a(236),y=(a(142),a(8)),v=(a(408),a(72)),O=v.b.SubMenu,j=Object(u.g)(n=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(f.a)(this,Object(h.a)(t).call(this,e))).openKeysMap={userManage:"p-user",publicFactor:"p-research"},a.handleOpenChange=function(e){a.setState({openKeys:e})},a.state={current:"",openKeys:[]},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.location.pathname,a=this.props.history;this.setState({current:t.slice(1),openKeys:[this.openKeysMap[t.slice(1)]]}),a.listen(function(t){e.setState({current:t.pathname.slice(1)}),e.state.openKeys.length<1&&e.setState({openKeys:[e.openKeysMap[t.pathname.slice(1)]]})})}},{key:"render",value:function(){return o.a.createElement(v.b,{style:{width:256,height:"100%"},selectedKeys:[this.state.current],multiple:!1,openKeys:this.state.openKeys,onOpenChange:this.handleOpenChange,mode:"inline"},o.a.createElement(O,{key:"p-user",title:o.a.createElement("span",null,o.a.createElement(y.a,{type:"user"}),o.a.createElement("span",null,"\u7528\u6237\u7ba1\u7406"))},o.a.createElement(v.b.Item,{key:"userManage"},o.a.createElement(c.b,{to:"/userManage"},"\u7528\u6237\u7ba1\u7406"))),o.a.createElement(O,{key:"p-research",title:o.a.createElement("span",null,o.a.createElement(y.a,{type:"fund"}),o.a.createElement("span",null,"\u7814\u7a76\u7ba1\u7406"))},o.a.createElement(v.b.Item,{key:"publicFactor"},o.a.createElement(c.b,{to:"/publicFactor"},"\u516c\u5171\u56e0\u5b50"))))}}]),t}(o.a.Component))||n,C=a(71),E=a.n(C),I=a(238),k=a(251),w=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(f.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,"NotFound!!!!")}}]),t}(o.a.Component),S=a(256),x=[{path:"/userManage",exact:!0,component:I.a},{path:"/publicFactor",exact:!0,component:k.a}],_=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(f.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:E.a.container},o.a.createElement(b.a,null),o.a.createElement("div",{className:E.a.body},o.a.createElement(j,null),o.a.createElement("div",{className:E.a.content},o.a.createElement(u.d,null,o.a.createElement(u.a,{from:"/",to:"/userManage",exact:!0}),x.map(function(e){return o.a.createElement(S.a,{path:e.path,exact:e.exact,component:e.component,key:e.path})}),o.a.createElement(u.b,{component:w})))))}}]),t}(o.a.Component);var F,U,N,D,T,L=function(){return o.a.createElement(c.a,{basename:"/kyf-adm"},o.a.createElement(u.d,null,o.a.createElement(u.b,{path:"/login",exact:!0,component:d.a}),o.a.createElement(u.b,{component:_})))},A=a(163),q=a(99),B=(a(510),a(22)),P=(F=B.d.bound,U=B.d.bound,N=function(){function e(){Object(m.a)(this,e),Object(A.a)(this,"userInfo",D,this),Object(A.a)(this,"rolesOptions",T,this)}return Object(p.a)(e,[{key:"setUserInfo",value:function(e){this.userInfo=e.userInfo}},{key:"setRolesOptions",value:function(e){this.rolesOptions=e.rolesOptions}}]),e}(),D=Object(q.a)(N.prototype,"userInfo",[B.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{name:"",permissions:[],token:"",identity:{id:"",name:""}}}}),T=Object(q.a)(N.prototype,"rolesOptions",[B.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Object(q.a)(N.prototype,"setUserInfo",[F],Object.getOwnPropertyDescriptor(N.prototype,"setUserInfo"),N.prototype),Object(q.a)(N.prototype,"setRolesOptions",[U],Object.getOwnPropertyDescriptor(N.prototype,"setRolesOptions"),N.prototype),N),R=function e(){Object(m.a)(this,e)},M=new function e(){Object(m.a)(this,e),this.UseInfo=new P,this.PublicFactor=new R};i.a.render(o.a.createElement(l.a,{store:M},o.a.createElement(L,null)),document.getElementById("root"))},55:function(e,t,a){"use strict";a.r(t);a(102);var n=a(43),r=a(230),o=[{code:"1",msg:"\u53d1\u751f\u672a\u77e5\u9519\u8bef"},{code:"2",msg:"\u975e\u6cd5\u8bf7\u6c42"},{code:"3",msg:"\u975e\u6cd5\u53c2\u6570"},{code:"4",msg:"\u7f3a\u5c11\u5fc5\u8981\u53c2\u6570"},{code:"5",msg:"\u53c2\u6570\u9519\u8bef"},{code:"6",msg:"\u8bf7\u6c42\u65b9\u5f0f\u4e0d\u88ab\u652f\u6301"},{code:"7",msg:"\u60a8\u6ca1\u6709\u6743\u9650\u8fdb\u884c\u6b64\u64cd\u4f5c"},{code:"8",msg:"\u60a8\u8bbf\u95ee\u7684\u8d44\u6e90\u4e0d\u5b58\u5728"},{code:"9",msg:"\u7f3a\u5c11\u767b\u5f55\u540d"},{code:"10",msg:"\u7f3a\u5c11\u5bc6\u7801"},{code:"11",msg:"\u7f3a\u5c11\u9a8c\u8bc1\u7801"},{code:"12",msg:"\u8d26\u53f7\u4e0d\u5b58\u5728"},{code:"13",msg:"\u5bc6\u7801\u9519\u8bef"},{code:"14",msg:"\u9a8c\u8bc1\u7801\u9519\u8bef"},{code:"15",msg:"\u5e10\u53f7\u5df2\u88ab\u9501\u5b9a"},{code:"16",msg:"\u5e10\u53f7\u5df2\u5b58\u5728"},{code:"17",msg:"\u975e\u6cd5\u4e09\u65b9\u5e94\u7528"},{code:"18",msg:"\u975e\u6cd5\u6388\u6743\u8bf7\u6c42"},{code:"19",msg:"\u975e\u6cd5\u66f4\u65b0\u8bbf\u95ee\u7801\u8bf7\u6c42"},{code:"20",msg:"\u60a8\u7684\u4ee4\u724c\u5df2\u8fc7\u671f"},{code:"21",msg:"\u60a8\u9700\u8981\u767b\u5f55\u540e\u518d\u8bbf\u95ee"},{code:"CAS01",msg:""},{code:"CAS02",msg:"CAS\u670d\u52a1\u5668\u8fd4\u56de\u7ed3\u679c\u4e3a\u7a7a"},{code:"CAS03",msg:"CAS\u670d\u52a1\u5668\u8c03\u7528\u6210\u529f\u4f46\u8fd4\u56de\u7ed3\u679c\u4e3a\u7a7a"},{code:"CAS04",msg:"CAS\u670d\u52a1\u5668\u8c03\u7528\u5931\u8d25\u4f46\u8fd4\u56de\u7ed3\u679c\u4e3a\u7a7a"}],s=["/login.json"],i=a.n(r).a.create({baseURL:"/kyfadm-api",withCredentials:!0});i.interceptors.request.use(function(e){return"post"===e.method&&s.indexOf(e.url)>=0&&(e.transformRequest=[function(e){var t=new FormData;for(var a in e)t.append(a,e[a]);return t}]),e}),i.interceptors.response.use(function(e){200!==e.status&&n.a.warning("\u7cfb\u7edf\u9519\u8bef\uff0c\u9519\u8bef\u4ee3\u7801".concat(e.status));var t=e.data,a=t.code;return"0"===a?e:a||"0"===a||0===t.status?(n.a.warning(o.find(function(e){return e.code===a}).msg||t.msg),"21"===a&&(window.location.href="login"),e):(n.a.warning("\u8bf7\u68c0\u67e5\u63a5\u53e3api\u662f\u5426\u6b63\u786e"),{data:{code:"err",data:[]}})},function(e){return Promise.reject(e)});var l=i;a.d(t,"axios",function(){return l})},70:function(e,t,a){e.exports={formCon:"style_formCon__bmVPC",actionCon:"style_actionCon__1GMCH",ListCon:"style_ListCon__NvuP1",rightBtn:"style_rightBtn__3oH0Y",pagi:"style_pagi__uLdEO"}},71:function(e,t,a){e.exports={container:"style_container__2TjDT",header:"style_header__1ivk_",title:"style_title__36nRo",userInfo:"style_userInfo__OGREH",body:"style_body__3DQdd",content:"style_content__2fSyy"}},80:function(e,t,a){e.exports={formCon:"style_formCon__3gZHe",actionCon:"style_actionCon__3pkBe",ListCon:"style_ListCon__33bda",rightBtn:"style_rightBtn__3yPE5",pagi:"style_pagi__2nZnM"}}},[[259,1,2]]]);
//# sourceMappingURL=main.6365e873.chunk.js.map